(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,i){e.exports=i(91)},91:function(e,t,i){"use strict";i.r(t);var l=i(54),a=i(0),s=i.n(a),n=i(13),h=i.n(n),r=i(104),o=i(50),c=i.n(o),m=i(103),u=i(105),d=i(106),g=i(43),f=i.n(g),p=i(49),v="INIT",w="INPROGRESS",b="END",C="VERTICAL",E="HORIZONTAL",A="WIN",S="LOST",x={EASY:5,NORMAL:7,HARD:10,INSANE:15},T={gameLevel:x.EASY,gameSize:[10,5]},H={init:function(e){L.board=e},start:function(){L.newGame()},end:function(){L.game.status=b},setup:function(e){T.gameLevel=e,N.setSettings("level",T.gameLevel)}},N={all:null,readAll:function(){this.all=[];var e=document.cookie;for(var t in e.split(";")){var i=t.split("=");if(!(i.length<2)){var l=i[0].replace(/^\s+|\s+$/gm,""),a=i[1].replace(/^\s+|\s+$/gm,"");this.all[l]=a}}},getSetting:function(e){return null==this.all&&this.readAll(),this.all[e]},setSettings:function(e,t){null==this.all&&this.readAll(),this.all[e]=t;var i=e+"="+t+"; expires=Thu, 18 Dec 2100 12:00:00 UTC";console.log(i),document.cookie=i}},L={board:null,listCells:null,cellWidth:0,cellHeight:0,game:null,lastVal:0,newGame:function(){for(this.game=new R;this.board.firstChild;)this.board.removeChild(this.board.firstChild);this.game.direction===C?(this.cellWidth=Math.floor((this.board.clientHeight-56)/this.game.rows),this.cellHeight=Math.floor(this.board.clientWidth/this.game.cols)):(this.cellWidth=Math.floor(this.board.clientWidth/this.game.cols),this.cellHeight=Math.floor((this.board.clientHeight-56)/this.game.rows)),this.lastVal=0,this.createGameBoard(),setTimeout(function(){L.startGame()},500)},startGame:function(){for(var e=0;e<this.listCells.length;e++)this.listCells[e].innerText=this.listCells[e].getAttribute("val");this.game.status=v,this.createTime=new Date},startPlay:function(){console.log(this.listCells.length);for(var e=0;e<this.listCells.length;e++)this.listCells[e].innerText="";this.game.status=w,this.game.startTime=new Date},endGame:function(e){this.game.status=b,this.game.finishTime=new Date,this.game.result=e?A:S},createGameBoard:function(){this.listCells=[];for(var e,t,i=[],l=0;l<this.game.level;l++){do{e=Math.floor(Math.random()*this.game.cols),t=Math.floor(Math.random()*this.game.rows)}while(i.indexOf(e+"-"+t)>=0);i.push(e+"-"+t);var a=this.createCell(l+1,t,e);this.board.appendChild(a),this.listCells.push(a)}},createCell:function(e,t,i){var l=document.createElement("div");return l.style.width=this.cellWidth-2+"px",l.style.height=this.cellHeight-2+"px",l.style.lineHeight=this.cellHeight+"px",l.style.fontSize=this.cellHeight+"px",l.style.top=t*this.cellHeight+"px",l.style.left=i*this.cellWidth+"px",l.className="game-cell",l.setAttribute("val",e),l.setAttribute("col",i),l.setAttribute("row",t),l.addEventListener("click",function(e){L.game&&L.game.status!==b&&e.stopPropagation(),L.onCellClick(e.target)}),l},onCellClick:function(e){if(this.game.status===v&&this.startPlay(),this.game.status===w){var t=parseInt(e.getAttribute("val"));if(!this.checkResult(t))return e.innerText=t,e.className="game-cell wrong",void this.endGame(!1);this.lastVal=t,this.board.removeChild(e),this.isFinish()&&this.endGame(!0)}},isFinish:function(){return this.lastVal===this.game.level},checkResult:function(e){return 1===e-this.lastVal}},R=function(){this.level=T.gameLevel,this.status=v,this.createTime=null,this.startTime=null,this.finishTime=null,this.result=null,this.direction=E,window.innerWidth>window.innerHeight?(this.cols=T.gameSize[0],this.rows=T.gameSize[1],this.direction=C):(this.cols=T.gameSize[1],this.rows=T.gameSize[0])};window.addEventListener("click",function(e){null!=L.game&&L.game.status===b&&(L.newGame(),e.preventDefault())});var k=c()({app:{height:"100%",width:"100%",position:"fixed"},navi:{height:"56px",width:"100%",position:"absolute",bottom:0},board:{height:"100%",width:"100%",position:"fixed",paddingBottom:"56px"}});function y(){var e=k(),t=s.a.useState(0),i=Object(l.a)(t,2),a=i[0],n=i[1];return s.a.createElement(m.a,{value:a,onChange:function(e,t){n(t),H.setup(t),H.init(document.getElementById("game-board")),H.start()},showLabels:!0,className:e.navi},s.a.createElement(u.a,{label:"EASY",value:x.EASY,href:""}),s.a.createElement(u.a,{label:"NORMAL",value:x.NORMAL,href:""}),s.a.createElement(u.a,{label:"HARD",value:x.HARD,href:""}))}var G=f()({palette:{type:"dark"}});h.a.render(s.a.createElement(function(){var e=k();return s.a.createElement(s.a.Fragment,{children:r.a},s.a.createElement(p.a,{theme:G},s.a.createElement(d.a,null),s.a.createElement("div",{className:e.app},s.a.createElement("div",{id:"game-board",className:e.board}),s.a.createElement(y,null))))},null),document.querySelector("#app"))}},[[57,1,2]]]);
//# sourceMappingURL=main.ae3b1bf2.chunk.js.map