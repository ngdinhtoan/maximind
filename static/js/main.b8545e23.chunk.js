(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(t,e,i){t.exports=i(91)},91:function(t,e,i){"use strict";i.r(e);var l=i(54),a=i(0),s=i.n(a),n=i(13),h=i.n(n),r=i(104),o=i(50),c=i.n(o),m=i(103),u=i(105),d=i(106),g=i(43),f=i.n(g),p=i(49),v="INIT",w="INPROGRESS",b="END",C="VERTICAL",E="HORIZONTAL",A="WIN",S="LOST",x={EASY:5,NORMAL:7,HARD:10,INSANE:15},H={gameLevel:x.EASY,gameSize:[10,5]},T={init:function(t){y.board=t},start:function(){y.newGame()},end:function(){y.game.status=b},setup:function(t){H.gameLevel=t,N.setSettings("level",H.gameLevel)}},N={all:null,readAll:function(){this.all=[];var t=document.cookie;for(var e in t.split(";")){var i=e.split("=");if(!(i.length<2)){var l=i[0].replace(/^\s+|\s+$/gm,""),a=i[1].replace(/^\s+|\s+$/gm,"");this.all[l]=a}}},getSetting:function(t){return null==this.all&&this.readAll(),this.all[t]},setSettings:function(t,e){null==this.all&&this.readAll(),this.all[t]=e;var i=t+"="+e+"; expires=Thu, 18 Dec 2100 12:00:00 UTC";console.log(i),document.cookie=i}},y={board:null,listCells:null,cellWidth:0,cellHeight:0,game:null,lastVal:0,newGame:function(){for(this.game=new L;this.board.firstChild;)this.board.removeChild(this.board.firstChild);this.game.direction===C?(this.cellWidth=Math.floor((this.board.clientHeight-56)/this.game.rows),this.cellHeight=Math.floor(this.board.clientWidth/this.game.cols)):(this.cellWidth=Math.floor(this.board.clientWidth/this.game.cols),this.cellHeight=Math.floor((this.board.clientHeight-56)/this.game.rows)),this.lastVal=0,this.createGameBoard(),setTimeout(function(){y.startGame()},500)},startGame:function(){for(var t=0;t<this.listCells.length;t++)this.listCells[t].innerText=this.listCells[t].getAttribute("val");this.game.status=v,this.createTime=new Date},startPlay:function(){console.log(this.listCells.length);for(var t=0;t<this.listCells.length;t++)this.listCells[t].innerText="";this.game.status=w,this.game.startTime=new Date},endGame:function(t){this.game.status=b,this.game.finishTime=new Date,this.game.result=t?A:S},createGameBoard:function(){this.listCells=[];for(var t,e,i=[],l=0;l<this.game.level;l++){do{t=Math.floor(Math.random()*this.game.cols),e=Math.floor(Math.random()*this.game.rows)}while(i.indexOf(t+"-"+e)>=0);i.push(t+"-"+e);var a=this.createCell(l+1,e,t);this.board.appendChild(a),this.listCells.push(a)}},createCell:function(t,e,i){var l=document.createElement("div");return l.style.width=this.cellWidth-2+"px",l.style.height=this.cellHeight-2+"px",l.style.lineHeight=this.cellHeight+"px",l.style.fontSize=this.cellHeight+"px",this.game.direction===C?(l.style.transformOrigin="0 0",l.style.top=e*this.cellWidth+"px",l.style.left=this.board.clientWidth-i*this.cellHeight+"px"):(l.style.top=e*this.cellHeight+"px",l.style.left=i*this.cellWidth+"px"),l.className="game-cell",l.setAttribute("val",t),l.setAttribute("col",i),l.setAttribute("row",e),l.addEventListener("click",function(t){y.game&&y.game.status!==b&&t.stopPropagation(),y.onCellClick(t.target)}),l},onCellClick:function(t){if(this.game.status===v&&this.startPlay(),this.game.status===w){var e=parseInt(t.getAttribute("val"));if(!this.checkResult(e))return t.innerText=e,t.className="game-cell wrong",void this.endGame(!1);this.lastVal=e,this.board.removeChild(t),this.isFinish()&&this.endGame(!0)}},isFinish:function(){return this.lastVal===this.game.level},checkResult:function(t){return 1===t-this.lastVal}},L=function(){this.level=H.gameLevel,this.status=v,this.createTime=null,this.startTime=null,this.finishTime=null,this.result=null,this.direction=E,window.innerWidth>window.innerHeight?(this.cols=H.gameSize[0],this.rows=H.gameSize[1],this.direction=C):(this.cols=H.gameSize[1],this.rows=H.gameSize[0])};window.addEventListener("click",function(t){null!=y.game&&y.game.status===b&&(y.newGame(),t.preventDefault())});var R=c()({app:{height:"100%",width:"100%",position:"fixed"},navi:{height:"56px",width:"100%",position:"absolute",bottom:0},board:{height:"100%",width:"100%",position:"fixed",paddingBottom:"56px"}});function k(){var t=R(),e=s.a.useState(0),i=Object(l.a)(e,2),a=i[0],n=i[1];return s.a.createElement(m.a,{value:a,onChange:function(t,e){n(e),T.setup(e),T.init(document.getElementById("game-board")),T.start()},showLabels:!0,className:t.navi},s.a.createElement(u.a,{label:"EASY",value:x.EASY,href:""}),s.a.createElement(u.a,{label:"NORMAL",value:x.NORMAL,href:""}),s.a.createElement(u.a,{label:"HARD",value:x.HARD,href:""}))}var G=f()({palette:{type:"dark"}});h.a.render(s.a.createElement(function(){var t=R();return s.a.createElement(s.a.Fragment,{children:r.a},s.a.createElement(p.a,{theme:G},s.a.createElement(d.a,null),s.a.createElement("div",{className:t.app},s.a.createElement("div",{id:"game-board",className:t.board}),s.a.createElement(k,null))))},null),document.querySelector("#app"))}},[[57,1,2]]]);
//# sourceMappingURL=main.b8545e23.chunk.js.map