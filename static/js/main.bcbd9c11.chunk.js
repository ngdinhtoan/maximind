(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,i){e.exports=i(91)},91:function(e,t,i){"use strict";i.r(t);var a=i(54),l=i(0),s=i.n(l),n=i(13),r=i.n(n),h=i(104),o=i(50),c=i.n(o),m=i(103),u=i(105),d=i(106),g=i(43),f=i.n(g),p=i(49),v="INIT",b="INPROGRESS",w="END",E="VERTICAL",C="HORIZONTAL",A="WIN",S="LOST",T={EASY:5,NORMAL:7,HARD:9,INSANE:15},x={gameLevel:T.EASY,gameSize:[9,5]},N={init:function(e){L.board=e},start:function(){L.newGame()},end:function(){L.game.status=w},setup:function(e){x.gameLevel=e,H.setSettings("level",x.gameLevel)}},H={all:null,readAll:function(){this.all=[];var e=document.cookie;for(var t in e.split(";")){var i=t.split("=");if(!(i.length<2)){var a=i[0].replace(/^\s+|\s+$/gm,""),l=i[1].replace(/^\s+|\s+$/gm,"");this.all[a]=l}}},getSetting:function(e){return null==this.all&&this.readAll(),this.all[e]},setSettings:function(e,t){null==this.all&&this.readAll(),this.all[e]=t,document.cookie=e+"="+t+"; expires=Thu, 18 Dec 2100 12:00:00 UTC"}},L={board:null,listCells:null,cellWidth:0,cellHeight:0,game:null,lastVal:0,newGame:function(){for(this.game=new y(this.board);this.board.firstChild;)this.board.removeChild(this.board.firstChild);this.cellWidth=Math.floor(this.board.clientWidth/this.game.cols),this.cellHeight=Math.floor((this.board.clientHeight-56)/this.game.rows),this.lastVal=0,this.createGameBoard(),setTimeout(function(){L.startGame()},10)},startGame:function(){for(var e=0;e<this.listCells.length;e++)this.listCells[e].innerText=this.listCells[e].getAttribute("val");this.game.status=v,this.createTime=new Date},startPlay:function(){for(var e=0;e<this.listCells.length;e++)this.listCells[e].innerText="";this.game.status=b,this.game.startTime=new Date},endGame:function(e){this.game.status=w,this.game.finishTime=new Date,this.game.result=e?A:S},createGameBoard:function(){this.listCells=[];for(var e,t,i=new Map,a=0;a<this.game.level;a++){do{e=Math.floor(Math.random()*this.game.cols),t=Math.floor(Math.random()*this.game.rows)}while(i.has(e+"-"+t));i.set(e+"-"+t,1);var l=this.createCell(a+1,t,e);this.board.appendChild(l),this.listCells.push(l),l.addEventListener("click",function(e){L.game&&L.game.status!==w&&e.stopPropagation(),L.onCellClick(e.target)})}},createCell:function(e,t,i){var a=document.createElement("div");return a.style.width=this.cellWidth-2+"px",a.style.height=this.cellHeight-2+"px",a.style.top=t*this.cellHeight+1+"px",a.style.left=i*this.cellWidth+1+"px",a.style.lineHeight=this.cellHeight+"px",a.style.fontSize=this.cellHeight+"px",a.className="game-cell",a.setAttribute("val",e),a.setAttribute("col",i),a.setAttribute("row",t),a},onCellClick:function(e){if(this.game.status===v&&this.startPlay(),this.game.status===b){var t=parseInt(e.getAttribute("val"));if(this.checkResult(t))this.lastVal=t,this.board.removeChild(e),this.isFinish()&&this.endGame(!0);else{e.innerText=t,e.className="game-cell wrong";for(var i=this.board.getElementsByClassName("game-cell"),a=0;a<i.length;a++)i[a].innerText=parseInt(i[a].getAttribute("val"));this.endGame(!1)}}},isFinish:function(){return this.lastVal===this.game.level},checkResult:function(e){return 1===e-this.lastVal}},y=function(e){this.level=x.gameLevel,this.status=v,this.createTime=null,this.startTime=null,this.finishTime=null,this.result=null,this.direction=C,e.clientWidth>e.clientHeight?(this.cols=x.gameSize[0],this.rows=x.gameSize[1],this.direction=E):(this.cols=x.gameSize[1],this.rows=x.gameSize[0])};window.addEventListener("click",function(e){null!=L.game&&L.game.status===w&&(L.newGame(),e.preventDefault())});var R=c()({app:{height:"100%",width:"100%",position:"fixed"},navi:{height:"56px",width:"100%",position:"absolute",bottom:0},board:{height:"100%",width:"100%",position:"fixed",paddingBottom:"56px"}});function k(){var e=R(),t=s.a.useState(0),i=Object(a.a)(t,2),l=i[0],n=i[1];return s.a.createElement(m.a,{value:l,onChange:function(e,t){n(t),N.setup(t),N.init(document.getElementById("game-board")),N.start()},showLabels:!0,className:e.navi},s.a.createElement(u.a,{label:"EASY",value:T.EASY,href:""}),s.a.createElement(u.a,{label:"NORMAL",value:T.NORMAL,href:""}),s.a.createElement(u.a,{label:"HARD",value:T.HARD,href:""}))}var G=f()({palette:{type:"dark"}});r.a.render(s.a.createElement(function(){var e=R();return s.a.createElement(s.a.Fragment,{children:h.a},s.a.createElement(p.a,{theme:G},s.a.createElement(d.a,null),s.a.createElement("div",{className:e.app},s.a.createElement("div",{id:"game-board",className:e.board}),s.a.createElement(k,null))))},null),document.querySelector("#app"))}},[[57,1,2]]]);
//# sourceMappingURL=main.bcbd9c11.chunk.js.map